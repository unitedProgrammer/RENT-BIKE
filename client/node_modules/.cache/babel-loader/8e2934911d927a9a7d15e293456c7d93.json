{"ast":null,"code":"import _slicedToArray from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RentedCarPage=/*#__PURE__*/function(_Component){_inherits(RentedCarPage,_Component);var _super=_createSuper(RentedCarPage);function RentedCarPage(props){var _this;_classCallCheck(this,RentedCarPage);_this=_super.call(this,props);_this.MoveToAvailable=function(_ref){var _ref2=_slicedToArray(_ref,4),id=_ref2[0],bikeName=_ref2[1],bikeType=_ref2[2],rentPrice=_ref2[3];var data={bikeName:bikeName,bikeType:bikeType,rentPrice:rentPrice};axios.post(\"http://localhost:5000/posts/add\",data).then(function(res){if(res.data.success){alert(\"added\");}_this.getPosts();});{axios.delete(\"http://localhost:5000/posts/delete2/\".concat(id)).then(function(res){_this.getPosts();});};};_this.state={posts:[]};return _this;}_createClass(RentedCarPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getPosts();this.interval=setInterval(function(){_this2.getPosts();},1000);}},{key:\"getPosts\",value:function getPosts(){var _this3=this;axios.get(\"http://localhost:5000/posts/rented\").then(function(res){if(res.data.success){_this3.setState({posts:res.data.posts});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your rent \"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.posts.map(function(post){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\"}),/*#__PURE__*/_jsx(\"td\",{children:post.bikeName}),/*#__PURE__*/_jsx(\"td\",{children:post.bikeType}),/*#__PURE__*/_jsx(\"td\",{children:post.rentPrice}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\xA0\",/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-danger\",href:\"#\",onClick:function onClick(){return _this4.MoveToAvailable([post._id,post.bikeName,post.bikeType,post.rentPrice]);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-times-circle\"}),\"Delete\"]})]})]});})})]})]});}}]);return RentedCarPage;}(Component);export default RentedCarPage;","map":{"version":3,"sources":["/Users/dima/Rnt/client/src/components/RentedCarPage.js"],"names":["React","Component","axios","RentedCarPage","props","MoveToAvailable","id","bikeName","bikeType","rentPrice","data","post","then","res","success","alert","getPosts","delete","state","posts","interval","setInterval","get","setState","clearInterval","map","_id"],"mappings":"6fAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAkB,+CAChB,uBAAMA,KAAN,EADgB,MAuBnBC,eAvBmB,CAuBD,cAAwC,kCAAtCC,EAAsC,UAAlCC,QAAkC,UAAxBC,QAAwB,UAAdC,SAAc,UACvD,GAAMC,CAAAA,IAAI,CAAG,CACXH,QAAQ,CAACA,QADE,CAETC,QAAQ,CAACA,QAFA,CAGTC,SAAS,CAACA,SAHD,CAAb,CAKAP,KAAK,CAACS,IAAN,CAAW,iCAAX,CAA8CD,IAA9C,EAAoDE,IAApD,CAAyD,SAACC,GAAD,CAAQ,CAC/D,GAAIA,GAAG,CAACH,IAAJ,CAASI,OAAb,CAAqB,CACnBC,KAAK,CAAC,OAAD,CAAL,CAED,CACD,MAAKC,QAAL,GACD,CAND,EAOA,CACEd,KAAK,CAACe,MAAN,+CAAoDX,EAApD,GAA0DM,IAA1D,CAA+D,SAACC,GAAD,CAAQ,CACrE,MAAKG,QAAL,GACD,CAFD,EAGD,EACF,CAzCiB,CAEhB,MAAKE,KAAL,CAAW,CACTC,KAAK,CAAC,EADG,CAAX,CAFgB,aAKjB,C,2DACH,4BAAmB,iBACjB,KAAKH,QAAL,GACA,KAAKI,QAAL,CAAgBC,WAAW,CAAC,UAAM,CAChC,MAAI,CAACL,QAAL,GACD,CAF0B,CAExB,IAFwB,CAA3B,CAGD,C,wBAEC,mBAAU,iBACRd,KAAK,CAACoB,GAAN,CAAU,oCAAV,EAAgDV,IAAhD,CAAsD,SAACC,GAAD,CAAS,CAC7D,GAAGA,GAAG,CAACH,IAAJ,CAASI,OAAZ,CAAoB,CAClB,MAAI,CAACS,QAAL,CAAc,CACZJ,KAAK,CAACN,GAAG,CAACH,IAAJ,CAASS,KADH,CAAd,EAGD,CACF,CAND,EAOD,C,oCAuBD,+BAAuB,CACrBK,aAAa,CAAC,KAAKJ,QAAN,CAAb,CACD,C,sBAGD,iBAAS,iBACP,mBAEE,aAAK,SAAS,CAAC,WAAf,wBACE,kCADF,cAEE,eAAO,KAAK,CAAC,OAAb,wBACN,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,EADF,cAEE,WAAI,KAAK,CAAC,KAAV,EAFF,cAGE,WAAI,KAAK,CAAC,KAAV,EAHF,cAIE,WAAI,KAAK,CAAC,KAAV,EAJF,cAKE,WAAI,KAAK,CAAC,KAAV,EALF,GADF,EADM,cAUN,uBACC,KAAKF,KAAL,CAAWC,KAAX,CAAiBM,GAAjB,CAAqB,SAACd,IAAD,qBACpB,mCACE,WAAI,KAAK,CAAC,KAAV,EADF,cAEE,oBAAKA,IAAI,CAACJ,QAAV,EAFF,cAGE,oBAAKI,IAAI,CAACH,QAAV,EAHF,cAIE,oBAAKG,IAAI,CAACF,SAAV,EAJF,cAKE,0CAGE,WAAG,SAAS,CAAC,gBAAb,CAA8B,IAAI,CAAC,GAAnC,CAAuC,OAAO,CAAI,yBAAM,CAAA,MAAI,CAACJ,eAAL,CAAqB,CAACM,IAAI,CAACe,GAAN,CAAWf,IAAI,CAACJ,QAAhB,CAA0BI,IAAI,CAACH,QAA/B,CAAyCG,IAAI,CAACF,SAA9C,CAArB,CAAN,EAAlD,wBACE,UAAG,SAAS,CAAC,qBAAb,EADF,YAHF,GALF,GADoB,EAArB,CADD,EAVM,GAFF,GAFF,CAkCD,C,2BArFyBR,S,EAwF5B,cAAeE,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass RentedCarPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      posts:[]\n    }\n  }\ncomponentDidMount(){\n  this.getPosts();\n  this.interval = setInterval(() => {\n    this.getPosts();\n  }, 1000);\n}\n\n  getPosts(){\n    axios.get(\"http://localhost:5000/posts/rented\").then( (res) => {\n      if(res.data.success){\n        this.setState({\n          posts:res.data.posts,\n        });\n      }\n    });\n  };\n\n MoveToAvailable = ([id, bikeName, bikeType, rentPrice]) =>{\n    const data = {\n      bikeName:bikeName,\n        bikeType:bikeType,\n        rentPrice:rentPrice,\n    }\n    axios.post(\"http://localhost:5000/posts/add\", data).then((res)=> {\n      if (res.data.success){\n        alert(\"added\");\n        \n      }\n      this.getPosts();\n    });\n    {\n      axios.delete(`http://localhost:5000/posts/delete2/${id}`).then((res)=> {\n        this.getPosts();\n      });\n    };\n  };\n  \n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  \n  render() {\n    return (\n\n      <div className=\"container\">\n        <h3>Your rent </h3>\n        <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n    </tr>\n  </thead>\n  <tbody>\n  {this.state.posts.map((post) => (\n    <tr>\n      <th scope=\"row\"></th>\n      <td>{post.bikeName}</td>\n      <td>{post.bikeType}</td>\n      <td>{post.rentPrice}</td>\n      <td>\n        \n        &nbsp;\n        <a className=\"btn btn-danger\" href=\"#\" onClick = {() => this.MoveToAvailable([post._id, post.bikeName, post.bikeType, post.rentPrice])}>\n          <i className=\"far fa-times-circle\"></i>Delete\n        </a>\n      </td>\n    </tr>\n    ))}\n  </tbody>\n</table>\n      </div>\n    )\n  }\n}\n\nexport default RentedCarPage;"]},"metadata":{},"sourceType":"module"}