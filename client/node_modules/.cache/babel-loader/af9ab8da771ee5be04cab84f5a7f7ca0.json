{"ast":null,"code":"var _jsxFileName = \"/Users/dima/Rnt/client/src/components/RentedCarPage.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RentedCarPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.MoveToAvailable = ([id, bikeName, bikeType, rentPrice]) => {\n      const data = {\n        bikeName: bikeName,\n        bikeType: bikeType,\n        rentPrice: rentPrice\n      };\n      axios.post(\"http://localhost:5000/posts/add\", data).then(res => {\n        if (res.data.success) {\n          alert(\"added\");\n        }\n\n        this.getPosts();\n      });\n      {\n        axios.delete(`http://localhost:5000/posts/delete2/${id}`).then(res => {\n          this.getPosts();\n        });\n      }\n      ;\n    };\n\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    this.getPosts();\n    this.interval = setInterval(() => {\n      this.getPosts();\n    }, 1000);\n  }\n\n  getPosts() {\n    axios.get(\"http://localhost:5000/posts/rented\").then(res => {\n      if (res.data.success) {\n        this.setState({\n          posts: res.data.posts\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your rent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"bikeName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"bikeType\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"rentPrice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.posts.map((post, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.bikeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.bikeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.rentPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-danger\",\n                href: \"#\",\n                onClick: () => this.MoveToAvailable([post._id, post.bikeName, post.bikeType, post.rentPrice]),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-times-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 11\n                }, this), \"Delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 5\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default RentedCarPage;","map":{"version":3,"sources":["/Users/dima/Rnt/client/src/components/RentedCarPage.js"],"names":["React","Component","axios","RentedCarPage","constructor","props","MoveToAvailable","id","bikeName","bikeType","rentPrice","data","post","then","res","success","alert","getPosts","delete","state","posts","componentDidMount","interval","setInterval","get","setState","componentWillUnmount","clearInterval","render","map","index","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass RentedCarPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      posts:[]\n    }\n  }\ncomponentDidMount(){\n  this.getPosts();\n  this.interval = setInterval(() => {\n    this.getPosts();\n  }, 1000);\n}\n\n  getPosts(){\n    axios.get(\"http://localhost:5000/posts/rented\").then( (res) => {\n      if(res.data.success){\n        this.setState({\n          posts:res.data.posts,\n        });\n      }\n    });\n  };\n\n MoveToAvailable = ([id, bikeName, bikeType, rentPrice]) =>{\n    const data = {\n      bikeName:bikeName,\n        bikeType:bikeType,\n        rentPrice:rentPrice,\n    }\n    axios.post(\"http://localhost:5000/posts/add\", data).then((res)=> {\n      if (res.data.success){\n        alert(\"added\");\n        \n      }\n      this.getPosts();\n    });\n    {\n      axios.delete(`http://localhost:5000/posts/delete2/${id}`).then((res)=> {\n        this.getPosts();\n      });\n    };\n  };\n\n  \n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  \n  render() {\n    return (\n\n      <div className=\"container\">\n        <h3>Your rent</h3>\n        <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">$</th>\n      <th scope=\"col\">bikeName</th>\n      <th scope=\"col\">bikeType</th>\n      <th scope=\"col\">rentPrice</th>\n      <th scope=\"col\">action</th>\n    </tr>\n  </thead>\n  <tbody>\n  {this.state.posts.map((post, index ) => (\n    <tr>\n      <th scope=\"row\">{index}</th>\n      <td>{post.bikeName}</td>\n      <td>{post.bikeType}</td>\n      <td>{post.rentPrice}</td>\n      <td>\n        \n        &nbsp;\n        <a className=\"btn btn-danger\" href=\"#\" onClick = {() => this.MoveToAvailable([post._id, post.bikeName, post.bikeType, post.rentPrice])}>\n          <i className=\"far fa-times-circle\"></i>Delete\n        </a>\n      </td>\n    </tr>\n    ))}\n  </tbody>\n</table>\n      </div>\n    )\n  }\n}\n\nexport default RentedCarPage;"]},"metadata":{},"sourceType":"module"}