{"ast":null,"code":"import _slicedToArray from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/dima/Rnt/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LandingPage=/*#__PURE__*/function(_Component){_inherits(LandingPage,_Component);var _super=_createSuper(LandingPage);function LandingPage(props){var _this;_classCallCheck(this,LandingPage);_this=_super.call(this,props);_this.onDelete=function(id){axios.delete(\"http://localhost:5000/posts/delete/\".concat(id)).then(function(res){alert(\"Deletede success \");_this.getPosts();});};_this.onRent=function(_ref){var _ref2=_slicedToArray(_ref,4),id=_ref2[0],bikeName=_ref2[1],bikeType=_ref2[2],rentPrice=_ref2[3];var data={bikeName:bikeName,bikeType:bikeType,rentPrice:rentPrice};axios.post(\"http://localhost:5000/posts/add2\",data).then(function(res){if(res.data.success){alert(\"added\");}_this.getPosts();});{axios.delete(\"http://localhost:5000/posts/delete/\".concat(id)).then(function(res){_this.getPosts();});};};_this.state={posts:[]};return _this;}_createClass(LandingPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getPosts();this.interval=setInterval(function(){_this2.getPosts();},1000);}},{key:\"getPosts\",value:function getPosts(){var _this3=this;axios.get(\"http://localhost:5000/posts\").then(function(res){if(res.data.success){_this3.setState({posts:res.data.posts});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Available bicycle\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.posts.map(function(post){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\"}),/*#__PURE__*/_jsx(\"td\",{children:post.bikeName}),/*#__PURE__*/_jsx(\"td\",{children:post.bikeType}),/*#__PURE__*/_jsx(\"td\",{children:post.rentPrice}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-warning\",href:\"#\",onClick:function onClick(){return _this4.onRent([post._id,post.bikeName,post.bikeType,post.rentPrice]);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"}),\"Rent\"]}),\"\\xA0\",/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-danger\",href:\"#\",onClick:function onClick(){return _this4.onDelete(post._id);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-times-circle\"}),\"Delete\"]})]})]});})})]})]});}}]);return LandingPage;}(Component);export default LandingPage;","map":{"version":3,"sources":["/Users/dima/Rnt/client/src/components/LandingPage.js"],"names":["React","Component","axios","LandingPage","props","onDelete","id","delete","then","res","alert","getPosts","onRent","bikeName","bikeType","rentPrice","data","post","success","state","posts","interval","setInterval","get","setState","clearInterval","map","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass LandingPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      posts:[]\n    }\n  }\ncomponentDidMount(){\n  this.getPosts();\n  this.interval = setInterval(() => {\n    this.getPosts();\n  }, 1000);\n}\n\n  getPosts(){\n    axios.get(\"http://localhost:5000/posts\").then( (res) => {\n      if(res.data.success){\n        this.setState({\n          posts:res.data.posts,\n        });\n      }\n    });\n  };\n\n  onDelete = (id) =>{\n    axios.delete(`http://localhost:5000/posts/delete/${id}`).then((res)=> {\n      alert(\"Deletede success \");\n      this.getPosts();\n    });\n  };\n\n  onRent = ([id, bikeName, bikeType, rentPrice]) =>{\n    const data = {\n      bikeName:bikeName,\n        bikeType:bikeType,\n        rentPrice:rentPrice,\n    }\n    axios.post(\"http://localhost:5000/posts/add2\", data).then((res)=> {\n      if (res.data.success){\n        alert(\"added\");\n        \n      }\n      this.getPosts();\n    });\n    {\n      axios.delete(`http://localhost:5000/posts/delete/${id}`).then((res)=> {\n        this.getPosts();\n      });\n    };\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  \n\n  render() {\n    return (\n\n      <div className=\"container\">\n        <h3>Available bicycle</h3>\n        <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n      <th scope=\"col\"></th>\n    </tr>\n  </thead>\n  <tbody>\n  {this.state.posts.map((post) => (\n    <tr>\n      <th scope=\"row\"></th>\n      <td>{post.bikeName}</td>\n      <td>{post.bikeType}</td>\n      <td>{post.rentPrice}</td>\n      <td>\n        <a className=\"btn btn-warning\" href=\"#\" onClick={()=>this.onRent([post._id, post.bikeName, post.bikeType, post.rentPrice])}>\n          <i className=\"fas fa-edit\"></i>Rent\n        </a>\n        &nbsp;\n        <a className=\"btn btn-danger\" href=\"#\" onClick={()=>this.onDelete(post._id)}>\n          <i className=\"far fa-times-circle\"></i>Delete\n        </a>\n      </td>\n    </tr>\n    ))}\n  </tbody>\n</table>\n      </div>\n    )\n  }\n}\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}