{"ast":null,"code":"var _jsxFileName = \"/Users/dima/Rnt/client/src/components/LandingPage.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LandingPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = id => {\n      axios.delete(`http://localhost:5000/posts/delete/${id}`).then(res => {\n        alert(\"Deletede success \");\n        this.getPosts();\n      });\n    };\n\n    this.onRent = id => {\n      axios.get(`/posts/detail/${id}`).then(res => {\n        if (res.data.success) {\n          const data = {\n            bikeName: res.data.post.bikeName,\n            bikeType: res.data.post.bikeType,\n            rentPrice: res.data.post.rentPrice\n          };\n          axios.post(\"http://localhost:5000/posts/add2\", data).then(res => {\n            if (res.data.success) {\n              alert(\"added\");\n            }\n          });\n        }\n\n        this.getPosts();\n      });\n    };\n\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    this.getPosts();\n    this.interval = setInterval(() => {\n      this.getPosts();\n    }, 1000);\n  }\n\n  getPosts() {\n    axios.get(\"http://localhost:5000/posts\").then(res => {\n      if (res.data.success) {\n        this.setState({\n          posts: res.data.posts\n        });\n        console.log(this.state.posts);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Available bicycle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"bikeName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"bikeType\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"rentPrice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.posts.map((post, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.bikeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.bikeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.rentPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-warning\",\n                href: \"#\",\n                onClick: () => this.onRent(post._id),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 11\n                }, this), \"Edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 9\n              }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"btn btn-danger\",\n                href: \"#\",\n                onClick: () => this.onDelete(post._id),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-times-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 11\n                }, this), \"Delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 5\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["/Users/dima/Rnt/client/src/components/LandingPage.js"],"names":["React","Component","axios","LandingPage","constructor","props","onDelete","id","delete","then","res","alert","getPosts","onRent","get","data","success","bikeName","post","bikeType","rentPrice","state","posts","componentDidMount","interval","setInterval","setState","console","log","componentWillUnmount","clearInterval","render","map","index","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nclass LandingPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      posts:[]\n    }\n  }\ncomponentDidMount(){\n  this.getPosts();\n  this.interval = setInterval(() => {\n    this.getPosts();\n  }, 1000);\n}\n\n  getPosts(){\n    axios.get(\"http://localhost:5000/posts\").then( (res) => {\n      if(res.data.success){\n        this.setState({\n          posts:res.data.posts,\n        });\n        console.log(this.state.posts);\n      }\n    });\n  };\n\n  onDelete = (id) =>{\n    axios.delete(`http://localhost:5000/posts/delete/${id}`).then((res)=> {\n      alert(\"Deletede success \");\n      this.getPosts();\n    });\n  };\n\n  onRent = (id) =>{\n    axios.get(`/posts/detail/${id}`).then((res)=> {\n      if (res.data.success){\n        const data = {\n          bikeName:res.data.post.bikeName,\n            bikeType:res.data.post.bikeType,\n            rentPrice:res.data.post.rentPrice,\n        }\n        axios.post (\"http://localhost:5000/posts/add2\", data).then ((res)=>{\n            if(res.data.success){\n                alert(\"added\");\n              \n            }\n        })\n      }\n      this.getPosts();\n    });\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  \n\n  render() {\n    return (\n\n      <div className=\"container\">\n        <h3>Available bicycle</h3>\n        <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">$</th>\n      <th scope=\"col\">bikeName</th>\n      <th scope=\"col\">bikeType</th>\n      <th scope=\"col\">rentPrice</th>\n      <th scope=\"col\">action</th>\n    </tr>\n  </thead>\n  <tbody>\n  {this.state.posts.map((post, index ) => (\n    <tr>\n      <th scope=\"row\">{index}</th>\n      <td>{post.bikeName}</td>\n      <td>{post.bikeType}</td>\n      <td>{post.rentPrice}</td>\n      <td>\n        <a className=\"btn btn-warning\" href=\"#\" onClick={()=>this.onRent(post._id)}>\n          <i className=\"fas fa-edit\"></i>Edit\n        </a>\n        &nbsp;\n        <a className=\"btn btn-danger\" href=\"#\" onClick={()=>this.onDelete(post._id)}>\n          <i className=\"far fa-times-circle\"></i>Delete\n        </a>\n      </td>\n    </tr>\n    ))}\n  </tbody>\n</table>\n      </div>\n    )\n  }\n}\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}